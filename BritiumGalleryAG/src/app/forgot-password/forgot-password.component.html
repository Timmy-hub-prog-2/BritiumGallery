<div class="forgot-container">
  <div class="forgot-card">
    <div class="forgot-header">
      <div class="forgot-icon">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" fill="currentColor"/>
        </svg>
      </div>
      <h2 class="forgot-title">Forgot Password?</h2>
      <p class="forgot-subtitle">Choose how you'd like to receive your password reset code.</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="error" class="error-message">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      {{ error }}
    </div>

    <!-- Success Message -->
    <div *ngIf="message" class="success-message">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      {{ message }}
    </div>

    <div class="verification-options">
              <!-- Email Option -->
        <button [class]="getEmailOptionClass()" [disabled]="isLoading">
        <div class="option-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 6L12 13L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
                  <div class="option-content">
            <h3 class="option-title">Email Reset</h3>
            <p class="option-description">Receive code via email</p>
            <div class="input-row">
                          <input
              type="email"
              [(ngModel)]="email"
              placeholder="Enter your email"
              class="option-input"
              [disabled]="isLoading"
              (click)="$event.stopPropagation()"
            />
              <div class="option-arrow" (click)="onArrowClick('email', $event)">
                <svg *ngIf="!isLoading" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <svg *ngIf="isLoading && selectedMethod === 'email'" class="loading-spinner" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>
      </button>

              <!-- SMS Option -->
        <button [class]="getSmsOptionClass()" [disabled]="isLoading">
        <div class="option-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17 2H7C5.9 2 5 2.9 5 4V20C5 21.1 5.9 22 7 22H17C18.1 22 19 21.1 19 20V4C19 2.9 18.1 2 17 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 18H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
                  <div class="option-content">
            <h3 class="option-title">SMS Reset</h3>
            <p class="option-description">Receive code via SMS</p>
            <div class="input-row">
                          <input
              type="tel"
              [(ngModel)]="phone"
              placeholder="Enter your phone number"
              class="option-input"
              [disabled]="isLoading"
              (click)="$event.stopPropagation()"
            />
              <div class="option-arrow" (click)="onArrowClick('sms', $event)">
                <svg *ngIf="!isLoading" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <svg *ngIf="isLoading && selectedMethod === 'sms'" class="loading-spinner" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>
      </button>
    </div>

    <div class="forgot-footer">
      <p class="security-note">ðŸ”’ Your information is secure and encrypted</p>
    </div>
  </div>
</div>
